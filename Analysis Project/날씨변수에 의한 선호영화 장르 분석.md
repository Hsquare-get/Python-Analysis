# 날씨변수에 의한 선호영화 장르 분석

>  영화관입장권통합전산망(KOBIS) - 온라인상영관 박스오피스(일간)에서 최근 3년(2017-11-01 ~ 2020-10-31)의 iptv 일별 영화순위 데이터를 크롤링함



### 1. 20개의 장르 중에서 어떤 장르를 반응변수로써 회귀분석을 수행할 수 있을지 탐색적 자료분석(EDA)

- 3년동안 100위안에 든 장르의 숫자를 카운트

- 파이차트로 100위안에 진입한 장르의 비중을 살펴봄



### 2. 충분한 데이터가 있다고 판단되는 장르(회귀분석으로 예측할 반응변수) 10가지를 선정

- 액션, 애니, 드라마, 범죄, 코미디, 멜로/로맨스, 스릴러, 공포(호러), 판타지, 미스터리



### 3. 다중회귀분석

- 일자별 100위안에 든 장르 숫자데이터로 전처리(결측치까지 처리)

- 독립변수(날씨변수)로 사용할 후보 변수 선정

- 날씨와 장르간의 피어슨 상관계수를 통해 선형성을 확인해본다(다중회귀분석의 가장 기본적인 가정인 설명변수와 반응변수간의 **선형성 가정**을 만족해야하기 때문) --> **상관정도를 파악할 수 있을뿐 인과관계X**

  - 각 장르(반응변수)마다 상관계수를 결정하는 독립변수가 다름 (최소 +- 0.3 상관계수 이상 보이는 장르)
    - 드라마 : temp_avg(평균기온), temp_max(최고기온), temp_min(드라마), dewpoint_avg(평균이슬점온도), station_pressure_avg(평균현지기압), sealevel_pressure_avg(평균해수면기압)
    - 애니메이션 : temp_avg(평균기온), temp_max(최고기온), dewpoint_avg(평균이슬점온도)
    - 미스터리 : vapor_pressure_avg(평균증기압) --> 단순회귀분석
    - 공포(호러) : temp_avg(평균기온), vapor_pressure_avg(평균증기압)

  - 독립변수들간에 선형관계가 있다면 다중공선성 문제를 야기할 수 있다. 때문에 VIF로 다중공선성이 존재하는 독립변수들을 제거해서 모델링을 해야한다.

    



# 인사이트

드라마와 애니메이션은 서로 다른 반응변수이지만 결과는 정반대이다. 드라마 평균 시청연령(출처)은 성인이고 애니메이션 평균 시청연령은 미성년자임을 고려했을 때 날씨와 시청자연령에 따라서도 추천해주는 장르가 달라질 수 있다는 것이다.



# 한계

- 온라인 영화관 iptv에서 제공하는 데이터가 지역별로 제공하지 않았기때문에 지역마다 날씨데이터의 편차가 있을 수 있다.

- 피어슨 상관계수들이 날씨변수(독립변수)에 대해 강한 상관정도를 나타내지 않았기 때문에 모델의 높은 예측 정확성을 보장할 수 없었다. 

- 날씨와 상관관계가 없는 장르들이 많았기 때문에 다양한 장르를 예측하기에는 날씨변수이외에 추가변수들이 필요할 수 있다.

- 현상분석위주로 진행되어 데이터분석을 통해 새로운 인사이트를 도출해내는 과정이 쉽지 않다는 것을 깨달았다. 